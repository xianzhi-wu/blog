<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">       
<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-touch-fullscreen" content="yes">
<meta name="full-screen" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="format-detection" content="telephone=no">
<meta name="format-detection" content="address=no">
<title></title>
<link rel="stylesheet" href="css/common.css">
<link rel="stylesheet" href="css/flex.css">
</head>
<body>
<div class="content">
    <h1>网页布局利器flex</h1>
    <div class="author">by Zhi</div>
    <p>2009年，w3c提出了一种新的页面布局方式-flex。它得到了全部浏览器的支持，因此我们可以放心的使用。flex很容易使用，通过使用它我们可以更高效、简便地完成可伸缩的页面布局，
    你可以点击<a href="http://caniuse.com/#feat=flexbox" class="text-link">这里</a>查看各个浏览器对它的支持情况。</p>
    <p>flex经历3次变化，从2009年的display:box，到2011年的display:flexbox，再到目前使用的display:flex。它的兼容性写法如下：</p>
    <pre>
    .box-layout { 
        display: -webkit-box;
        display: -webkit-flex; 
        display: flex; 
    }</pre>
    <pre>
    .box-col-1 {
        -webkit-box-flex: 1;
        -webkit-flex: 1;
        flex: 1;
    }</pre>
    <pre>
    .box-col-2 {
        -webkit-box-flex: 2;
        -webkit-flex: 2;
        flex: 2;
    }</pre>
    <h2>1、等比例布局</h3>
    <pre>
    .col01{background:red;}
    .col02{background:green;}
    .col03{background:blue;}</pre>
    <div class="subTitle">红绿蓝各占1/3:</div>
    <div class="box-layout"><div class="box-col-1 col01"></div><div class="box-col-1 col02"></div><div class="box-col-1 col03"></div></div>
    <div class="subTitle">红占1/4绿占2/4蓝占1/4:</div>
    <div class="box-layout"><div class="box-col-1 col01"></div><div class="box-col-2 col02"></div><div class="box-col-1 col03"></div></div>
    
    <h2>2、"定宽+伸缩"布局</h3>
    <pre>
    .w50{width:50px;}</pre>
    <div class="subTitle">红蓝各占50px，绿占总宽度减去红和蓝宽剩下的宽度:</div>
    <div class="box-layout box"><div class="col01 w50"></div><div class="box-col-1 col02"></div><div class="col03 w50"></div></div>
    
    <h2>3、子元素在侧轴（纵轴）方向上的对齐方式</h3>
    <p>语法：align-items: flex-start | flex-end | center | baseline | stretch	(默认)</p>
    <pre>
    红的高50px .h50{height:50px;}
    绿的高20px .h20{height:20px;}
    蓝的高40px .h40{height:40px;}</pre>
    <div class="subTitle">flex-start:</div>
    <div class="box-layout flex-start-v"><div class="box-col-1 col01 h50"></div><div class="box-col-1 col02 h20"></div><div class="box-col-1 col03 h40"></div></div>
    <div class="subTitle">flex-end:</div>
    <div class="box-layout flex-end-v"><div class="box-col-1 col01 h50"></div><div class="box-col-1 col02 h20"></div><div class="box-col-1 col03 h40"></div></div>
    <div class="subTitle">center:</div>
    <div class="box-layout center-v"><div class="box-col-1 col01 h50"></div><div class="box-col-1 col02 h20"></div><div class="box-col-1 col03 h40"></div></div>
    <div class="subTitle">baseline:</div>
    <div class="box-layout baseline-v"><div class="box-col-1 col01 h50"></div><div class="box-col-1 col02 h20"></div><div class="box-col-1 col03 h40"></div></div><br>
    <div class="box-layout baseline-v"><div class="box-col-1 col01 h50">1</div><div class="box-col-1 col02 h20" style="padding-top:10px;">2</div><div class="box-col-1 col03 h40">3</div></div>
    <div class="subTitle">stretch(默认，如果给子元素设定高stretch失效):</div>
    <div class="box-layout"><div class="box-col-1 col01"></div><div class="box-col-1 col02"></div><div class="box-col-1 col03"></div></div>
    
    <h2>4、子元素在主轴（横轴）方向上的对齐方式</h3>
    <p>语法justify-content: flex-start | flex-end | center | space-between | space-around;</p>
    <pre>
    红的宽80px .w80{width:80px;}
    绿的宽40px .w40{width:40px;}
    蓝的宽50px .w50{width:50px;}</pre>
    <div class="subTitle">flex-start:</div>
    <div class="box-layout flex-start-h"><div class="col01 w80"></div><div class="col02 w40"></div><div class="col03 w50"></div></div>
    <div class="subTitle">flex-end:</div>
    <div class="box-layout flex-end-h"><div class="col01 w80"></div><div class="col02 w40"></div><div class="col03 w50"></div></div>
    <div class="subTitle">center:</div>
    <div class="box-layout center-h"><div class="col01 w80"></div><div class="col02 w40"></div><div class="col03 w50"></div></div>
    <div class="subTitle">space-between:</div>
    <div class="box-layout space-between-h"><div class="col01 w80"></div><div class="col02 w40"></div><div class="col03 w50"></div></div>
    <div class="subTitle">space-around:</div>
    <div class="box-layout space-around-h"><div class="col01 w80"></div><div class="col02 w40"></div><div class="col03 w50"></div></div>
    
    <h2>5、flex-direction改变子元素的排列方式与方向</h3>
    <p>flex-direction: row(默认) | row-reverse | column | column-reverse</p>
    <div class="subTitle">row-reverse:</div>
    <div class="box-layout row-reverse"><div class="box-col-1 col01">1</div><div class="box-col-1 col02">2</div><div class="box-col-1 col03">3</div></div>
    <div class="subTitle">column:</div>
    <div class="box-layout column" style="height:120px;"><div class="col01 w80 h20">1</div><div class="col02 w50 h40">2</div><div class="col03 w40 h50">3</div></div>
    <div class="subTitle">column-reverse:</div>
    <div class="box-layout column-reverse" style="height:120px;"><div class="col01 w80 h20">1</div><div class="col02 w50 h40">2</div><div class="col03 w40 h50">3</div></div>
    
    <h2>6、flex-wrap定义单行或多行显示</h3>
    <p>语法flex-wrap：nowrap(默认) | wrap | wrap-reverse</p>
    <div class="subTitle">nowrap</div>
    <div class="box-layout nowrap" style="width:200px;height:auto;"><div class="col01 w80 h40"></div><div class="col02 w80 h40"></div><div class="col03 w80 h40"></div></div>
    <div class="subTitle">wrap</div>
    <div class="box-layout wrap" style="width:200px;height:auto;"><div class="col01 w80 h40"></div><div class="col02 w80 h40"></div><div class="col03 w80 h40"></div></div>
    <div class="subTitle">wrap-reverse</div>
    <div class="box-layout wrap-reverse" style="width:200px;height:auto;"><div class="col01 w80 h40"></div><div class="col02 w80 h40"></div><div class="col03 w80 h40"></div></div>
    
    <h2>7、flex-flow定义单行或多行显示</h3>
    <p>flex-flow属性是flex-direction属性和flex-wrap属性的简写形式，默认值为row nowrap。<br>语法flex-flow: flex-direction || flex-wrap;</p>
    
    <h2>8、align-content(适用于父元素，要与flex-wrap一起使用)</h3>
    <p>语法align-content: flex-start | flex-end | center | space-between | space-around | stretch</p>
    <div style="height:190px;overflow:auto;-webkit-overflow-scrolling:touch;border:1px solid #eee;">
        <div class="subTitle">flex-start</div>
        <div class="box-layout wrap ac-flexstart" style="width:200px;height:100px;">
            <div class="item"></div><div class="item"></div><div class="item"></div><div class="item"></div><div class="item"></div>
            <div class="item"></div><div class="item"></div><div class="item"></div><div class="item"></div><div class="item"></div>
        </div>
        <div class="subTitle">flex-end</div>
        <div class="box-layout wrap ac-flexend" style="width:200px;height:100px;">
            <div class="item"></div><div class="item"></div><div class="item"></div><div class="item"></div><div class="item"></div>
            <div class="item"></div><div class="item"></div><div class="item"></div><div class="item"></div><div class="item"></div>
        </div>
        <div class="subTitle">center</div>
        <div class="box-layout wrap ac-center" style="width:200px;height:100px;">
            <div class="item"></div><div class="item"></div><div class="item"></div><div class="item"></div><div class="item"></div>
            <div class="item"></div><div class="item"></div><div class="item"></div><div class="item"></div><div class="item"></div>
        </div>
        <div class="subTitle">space-between</div>
        <div class="box-layout wrap ac-spacebetween" style="width:200px;height:100px;">
            <div class="item"></div><div class="item"></div><div class="item"></div><div class="item"></div><div class="item"></div>
            <div class="item"></div><div class="item"></div><div class="item"></div><div class="item"></div><div class="item"></div>
        </div>
        <div class="subTitle">space-around</div>
        <div class="box-layout wrap ac-spacearound" style="width:200px;height:100px;">
            <div class="item"></div><div class="item"></div><div class="item"></div><div class="item"></div><div class="item"></div>
            <div class="item"></div><div class="item"></div><div class="item"></div><div class="item"></div><div class="item"></div>
        </div>
        <div class="subTitle">stretch</div>
        <div class="box-layout wrap ac-stretch" style="width:200px;height:100px;">
            <div class="item"></div><div class="item"></div><div class="item"></div><div class="item"></div><div class="item"></div>
            <div class="item"></div><div class="item"></div><div class="item"></div><div class="item"></div><div class="item"></div>
        </div>
    </div>
    <h2>9、子项目的属性</h3>
    <p>order，flex-grow，flex-shrink，flex-basis，flex，align-self</p>
    <div class="subTitle">order</div>
    <p>用整数值来定义排列顺序，数值小的排在前面。可以为负值。</p>
    <pre>
    .order-1{
         -webkit-order:-1;
         order:-1;
    }</pre>
    <div class="box-layout"><div class="box-col-1 col01">1</div><div class="box-col-1 col02">2</div><div class="box-col-1 col03 order-1">3</div></div>
    <div class="subTitle">flex-grow</div>
    <p>根据子元素所设置的扩展因子作为比率来分配剩余空间。flex-grow的默认值为0。</p>
    <pre>
    .a{width:100px;height:60px;}
    .b{flex-grow:1;width:50px;height:60px;}
    .c{flex-grow:3;width:50px;height:60px;}</pre>
    <div class="box-layout"><div class="col01 a">a</div><div class="col02 b">b</div><div class="col03 c">c</div></div>
    <p>父元素宽280px;a的宽=100+(280-100-50-50)/4*0=100px，b的宽=50+(280-100-50-50)/4*1=70px，c的宽=50+(280-100-50-50)/4*3=110px。</p>
    <div class="subTitle">flex-shrink</div>
    <p>根据子元素所设置的收缩因子作为比率来收缩空间，子元素的总长超过父元素才有效。flex-shrink的默认值为1。</p>
    <pre>
    .aa, .bb, .cc{height:60px;width:100px;}
    .aa{-webkit-flex-shrink:2;flex-shrink:2;}</pre>
    <div class="box-layout"><div class="col01 aa">aa</div><div class="col02 bb">bb</div><div class="col03 cc">cc</div></div>
    <p>父元素宽280px，aa的宽=100-(300-280)/4*2=90px，bb的宽=100-(300-280)/4*1=95px，cc的宽=100-(300-280)/4*1=95px。</p>
    <div class="subTitle">flex-basic</div>
    <p>语法flex-basis：length | percentage | auto | content<br>如果所有子元素的基准值之和大于剩余空间，则会根据每项设置的基准值，按比率伸缩剩余空间。</p>
    <pre>
.basis{height:60px;width:100px;}
.basis:nth-child(2)
{-webkit-flex-basis:200px;flex-basis:200px;}</pre>
    <div class="box-layout"><div class="col01 basis"></div><div class="col02 basis"></div><div class="col03 basis"></div></div>
    <div class="subTitle">flex</div>
    <p>语法flex: none | 'flex-grow' ' flex-shrink'? || 'flex-basis'</p>
    <pre>
    .f1{flex:1 1 160px;height:60px;}
    .f2{flex:2 2 100px;height:60px;}
    .f3{flex:3 3 80px;height:60px;}</pre>
    <div class="box-layout"><div class="col01 f1"></div><div class="col02 f2"></div><div class="col03 f3"></div></div>
    <p>
    父容器宽280，子元素设置了伸缩基准值flex-basic，子元素溢出160+100+80-280=60px;<br>
    同时设置了收缩因子flex-shrink，加权综合得160*1+100*2+80*3=600；<br>
    f1被移除溢出量(160*1/600)*60=16px，f1的宽为160-16=144px;<br>
    f2被移除溢出量(100*2/600)*60=20px，f2的宽为100-20=80px;<br>
    f3被移除溢出量(80*3/600)*60=24px，f3的宽为80-24=56px。<br>
    如果子元素总宽超过父元素宽，则按照此方法算。设置的flex-grow无效。<br>
    如果子元素f1为40px，f2为100px，f3为80px，父容器有280-220=60px的剩余，设置的flex-shrink无效；<br>
    f1扩充(1/(1+2+3))*60=10px，f1的宽为40+10=50px;<br>
    f2扩充(2/(1+2+3))*60=20px，f1的宽为100+20=120px;<br>
    f3扩充(3/(1+2+3))*60=30px，f1的宽为80+30=110px;<br>
    </p>
    <h2>10、align-self属性</h3>
    <p>align-self：auto | flex-start | flex-end | center | baseline | stretch</p>
    <p>align-self属性允许某个子元素有与其他子元素不一样的对齐方式，可覆盖父元素设置align-items属性。其默认值为auto，继承父元素的align-items值，如果父元素没有设置align-item，则计算值为'stretch'。</p>
    
    <p>（结束）</p>
</div>
</body>
</html>
